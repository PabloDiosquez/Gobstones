// Declarar un tipo de registros llamado Estudiante, que contenga los siguientes
// datos b치sicos: su identidad modelada con el registro Persona, su n칰mero de
// legajo, la fecha de ingreso a la Universidad, la cantidad de materias que rindi칩 y la
// cantidad que aprob칩. Implementar las siguientes funciones:
// a. ingresante_En_Con_, que recibe una persona, una fecha de ingreso y un
// n칰mero de legajo y describe un estudiante que ingres칩 en la fecha dada con
// el legajo dado, y no curs칩 a칰n ninguna materia (no rindi칩 ninguna, y por lo
// tanto no aprob칩 ninguna).
// b. materiasDesaprobadasPor_, que describe el n칰mero de materias
// desaprobadas por el estudiante dado.
// c. estudiante_ConLegajoNuevo_, que dado un estudiante y un n칰mero de
// legajo describe al estudiante que resulta de modificar el legajo del estudiante
// dado como argumento al nuevo legajo.
// d. estudiante_ConDomicilioNuevo_, que dado un estudiante y un nuevo
// domicilio describe al estudiante que resulta de modificar el domicilio del
// estudiante dado como argumento al domicilio dado.
// e. edadDelEstudiante_AlIngresar, que describe la edad que ten칤a el
// estudiante dado en el momento de ingresar a la Universidad.

type Estudiante is record {
    /*
        PROP칍SITO:
            * Modela un estudiante de la Universidad.
        INV. REP.:
            * legajo debe ser mayor o igual a cero.
            * cantidadDeMateriasRendidas debe ser un n칰mero mayor o igual a cero.
            * cantidadDeMateriasAprobadas debe ser un n칰mero mayor o igual a cero.
            * cantidadDeMateriasRendidas debe ser mayor o igual que cantidadDeMateriasAprobadas.
    */

    field identidad                     // Persona
    field legajo                        // N칰mero
    field fechaDeIngreso                // Fecha
    field cantidadDeMateriasRendidas    // N칰mero
    field cantidadDeMateriasAprobadas   // N칰mero
}

// a.

function ingresante_En_Con_(persona, fecha, legajoNuevo) {
    /*
        PROP칍SITO:
            * Describe un estudiante cuya identidad es la dada, que ingres칩 en la fecha dada, con el legajo dado y a칰n no curso ninguna materia.
        PAR츼METROS:
            * persona: Persona.
            * fecha: Fecha.
            * legajoNuevo: N칰mero.
        TIPO: Estudiante.
        PRECONDICIONES:
            * **legajo** debe ser mayor o igual a cero.
    */
    
    return (Estudiante(
                        identidad                   <- persona,
                        legajo                      <- legajoNuevo,
                        fechaDeIngreso              <- fecha,
                        cantidadDeMateriasRendidas  <- 0,
                        cantidadDeMateriasAprobadas <- 0
                      )
    )
}

// b.

function materiasDesaprobadasPor_(estudiante) {
    /*
        PROP칍SITO: 
            * Describe el n칰mero total de materias desaprobadas por el estudiante dado.
        PAR츼METROS:
            * estudiante: Estudiante.
        TIPO: N칰mero.
        PRECONDICIONES:
            * No tiene (es una funci칩n).
    */
    
    return (cantidadDeMateriasRendidas(estudiante) - cantidadDeMateriasAprobadas(estudiante))
}

// c.

function estudiante_ConLegajoNuevo_(estudiante, legajoNuevo) {
    /*
        PROP칍SITO:
            * Describe al estudiante que resulta de modificar el legajo del estudiante dado como argumento asign치ndole el nuevo legajo dado.
        PAR츼METROS:
            * estudiante:  Estudiante.
            * legajoNuevo: N칰mero.
        TIPO: Estudiante.
        PRECONDICIONES:
            * **legajoNuevo** debe ser mayor o igual a cero.
    */
    
    return (Estudiante(estudiante | legajo <- legajoNuevo))
}

// d.

function estudiante_ConDomicilioNuevo_(estudiante, nuevoDomicilio) {
    /*
        PROP칍SITO:
            * Describe al estudiante con domicilio actualizado.
        PAR츼METROS:
            * estudiante: Estudiante.
            * nuevoDomicilio: String.
        TIPO: Estudiante.
        PRECONDICIONES:
            * **domicilio** no debe ser vac칤o.
    */
    
    return (persona_ConDomicilioActualizado_(identidad(estudiante), nuevoDomicilio))
}

// e. 

function edadDelEstudiante_AlIngresar(estudiante) {
    /*
        PROP칍SITO:
            * Describe la edad que ten칤a el estudiante dado en el momento de ingresar a la Universidad.
        PAR츼METROS:
            * estudiante: Estudiante.
        TIPO: N칰mero.
        PRECONDICIONES:
            * No tiene (es una funci칩n total).
    */
    
    return (edadDe_Al_(estudiante, fechaDeIngreso(estudiante)))
}

// REGISTROS Y FUNCIONES AUXILIARES 游볻

type Persona is record {
    /*
        PROP칍SITO:
            * Modelar una persona.
        INV. REP.:
            * **domicilio** no es vac칤o.
    */

    field dni               // String
    field domicilio         // String
    field fechaDeNacimiento // Fecha
    field esDonante         // Booleano
}

function persona_ConDomicilioActualizado_(persona, domicilioNuevo) {
    /*
        PROP칍SITO:
            * Describe a la persona dada con el domicilio actualizado.
        PAR츼METROS:
            * persona: Persona.
            * domicilio: String.
        TIPO: Persona.
        PRECONDICIONES:
            * **domicilioNuevo** no debe ser vac칤o.
    */
    
    return (Persona(persona | domicilio <- domicilioNuevo))
}